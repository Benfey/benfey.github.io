---
layout: default
title: Archive
---

<h1>All Posts</h1>

<div class="sort-controls">
    <label for="sort-select">Sort by:</label>
    <select id="sort-select">
        <option value="newest">Newest First</option>
        <option value="oldest">Oldest First</option>
        <option value="views-high">Most Views</option>
        <option value="views-low">Least Views</option>
    </select>
</div>

<ul class="post-list" id="posts-newest" style="display: block;">
    {% for post in site.posts %}
        <li class="post-item">
            <h2><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
            <div class="post-meta">
                <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%B %d, %Y" }}</time>
                <span class="reading-time">
                    {% assign words = post.content | number_of_words %}
                    {% assign reading_time = words | divided_by: 200 %}
                    {% if reading_time < 1 %}
                        < 1 min read
                    {% else %}
                        {{ reading_time }} min read
                    {% endif %}
                </span>
                {% assign view_count = site.data.views[post.url] %}
                {% if view_count and view_count > 0 %}
                    <span class="view-count">{{ view_count | number_with_delimiter }} views</span>
                {% endif %}
                {% if post.tags %}
                    <div class="post-tags">
                        {% for tag in post.tags %}
                            <a href="/tags/#{{ tag | slugify }}" class="tag">{% include tag-to-display.html tag=tag %}</a>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            {% if post.excerpt %}
                <div class="post-excerpt">{{ post.excerpt | strip_html | truncatewords: 30 }}</div>
            {% endif %}
        </li>
    {% endfor %}
</ul>

<ul class="post-list" id="posts-oldest" style="display: none;">
    {% for post in site.posts reversed %}
        <li class="post-item">
            <h2><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
            <div class="post-meta">
                <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%B %d, %Y" }}</time>
                <span class="reading-time">
                    {% assign words = post.content | number_of_words %}
                    {% assign reading_time = words | divided_by: 200 %}
                    {% if reading_time < 1 %}
                        < 1 min read
                    {% else %}
                        {{ reading_time }} min read
                    {% endif %}
                </span>
                {% assign view_count = site.data.views[post.url] %}
                {% if view_count and view_count > 0 %}
                    <span class="view-count">{{ view_count | number_with_delimiter }} views</span>
                {% endif %}
                {% if post.tags %}
                    <div class="post-tags">
                        {% for tag in post.tags %}
                            <a href="/tags/#{{ tag | slugify }}" class="tag">{% include tag-to-display.html tag=tag %}</a>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            {% if post.excerpt %}
                <div class="post-excerpt">{{ post.excerpt | strip_html | truncatewords: 30 }}</div>
            {% endif %}
        </li>
    {% endfor %}
</ul>

<ul class="post-list" id="posts-views-high" style="display: none;">
</ul>

<ul class="post-list" id="posts-views-low" style="display: none;">
</ul>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const sortSelect = document.getElementById('sort-select');
    const postLists = {
        'newest': document.getElementById('posts-newest'),
        'oldest': document.getElementById('posts-oldest'),
        'views-high': document.getElementById('posts-views-high'),
        'views-low': document.getElementById('posts-views-low')
    };
    
    // View count data from Jekyll
    const viewData = {{ site.data.views | jsonify }};
    
    // Create view-sorted lists
    const newestPosts = Array.from(postLists.newest.children);
    
    // Sort by views (high to low)
    const postsByViewsHigh = [...newestPosts].sort((a, b) => {
        const urlA = a.querySelector('h2 a').getAttribute('href');
        const urlB = b.querySelector('h2 a').getAttribute('href');
        const viewsA = viewData[urlA] || 0;
        const viewsB = viewData[urlB] || 0;
        return viewsB - viewsA;
    });
    
    // Sort by views (low to high)
    const postsByViewsLow = [...newestPosts].sort((a, b) => {
        const urlA = a.querySelector('h2 a').getAttribute('href');
        const urlB = b.querySelector('h2 a').getAttribute('href');
        const viewsA = viewData[urlA] || 0;
        const viewsB = viewData[urlB] || 0;
        return viewsA - viewsB;
    });
    
    // Populate view-sorted lists
    postsByViewsHigh.forEach(post => postLists['views-high'].appendChild(post.cloneNode(true)));
    postsByViewsLow.forEach(post => postLists['views-low'].appendChild(post.cloneNode(true)));
    
    // Handle sort changes
    sortSelect.addEventListener('change', function() {
        // Hide all lists
        Object.values(postLists).forEach(list => list.style.display = 'none');
        // Show selected list
        postLists[this.value].style.display = 'block';
    });
});
</script>